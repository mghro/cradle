sudo: required
dist: trusty

language: python
python:
  - 3.6

before_script:
  - ./setup.sh
  - sudo apt-get install -y --upgrade binutils-2.26
  - export PATH=/usr/lib/binutils-2.26/bin:${PATH}
  - export CC=`which gcc-5`
  - export CXX=`which g++-5`
  - ./fips set config linux-make-debug
  - ./fips gen

script:
  - python python/generate_config.py $CRADLE_THINKNODE_API_TOKEN
  - ./fips make unit_test_coverage
  - ./fips make integration_tests
